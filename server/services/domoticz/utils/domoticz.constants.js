const { DEVICE_FEATURE_UNITS, DEVICE_FEATURE_CATEGORIES, DEVICE_FEATURE_TYPES } = require('../../../utils/constants');

// Convertion of Domoticz units to Gladys units
const DOMOTICZ_UNITS = {
  C: DEVICE_FEATURE_UNITS.CELSIUS,
  F: DEVICE_FEATURE_UNITS.FAHRENHEIT,
  '%': DEVICE_FEATURE_UNITS.PERCENT,
  hPa: DEVICE_FEATURE_UNITS.PASCAL,
};

// Mapping of Domoticz features to Gladys features
const DOMOTICZ_FEATURES = {
  temp: {
    category: DEVICE_FEATURE_CATEGORIES.TEMPERATURE_SENSOR,
    type: DEVICE_FEATURE_TYPES.SENSOR.DECIMAL,
    min: -250,
    max: 1000,
  },
  humidity: {
    category: DEVICE_FEATURE_CATEGORIES.HUMIDITY_SENSOR,
    type: DEVICE_FEATURE_TYPES.SENSOR.DECIMAL,
    min: 0,
    max: 100,
  },
  baro: {
    category: DEVICE_FEATURE_CATEGORIES.PRESSURE_SENSOR,
    type: DEVICE_FEATURE_TYPES.SENSOR.DECIMAL,
    min: 0,
    max: 100000,
  },
  battery: {
    category: DEVICE_FEATURE_CATEGORIES.BATTERY,
    type: DEVICE_FEATURE_TYPES.SENSOR.INTEGER,
    min: 0,
    max: 100,
  },
};

// Gladys categories that need polling
const DOMOTICZ_CATEGORY_NEEDS_POLL = [
  DEVICE_FEATURE_CATEGORIES.TEMPERATURE_SENSOR,
  DEVICE_FEATURE_CATEGORIES.HUMIDITY_SENSOR,
  DEVICE_FEATURE_CATEGORIES.PRESSURE_SENSOR,
  DEVICE_FEATURE_TYPES.SENSOR.INTEGER,
];

module.exports = {
  DOMOTICZ_UNITS,
  DOMOTICZ_FEATURES,
  DOMOTICZ_CATEGORY_NEEDS_POLL,
};
