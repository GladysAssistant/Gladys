const { DEVICE_FEATURE_CATEGORIES, DEVICE_FEATURE_TYPES } = require('../../../../../../utils/constants');
const { FEATURES } = require('../../../utils/awox.features');

const PACKET = {
  PACKET_START: [0xaa, 0x0a, 0xfc, 0x3a, 0x86, 0x01],
  PACKET_END: 0x0d,
  CHECKSUM_START: 85,
};

const BLUETOOTH = {
  SERVICE_ID: 'fff0',
  CHARACTERISTIC_ID: 'fff1',
};

const DEVICE_GROUPS = {
  LIGHT_WHITE: 'mesh_light_white',
  LIGHT_COLOR: 'mesh_light_color',
};

const DEVICE_MODEL_FEATURES = {
  [DEVICE_GROUPS.LIGHT_WHITE]: [
    FEATURES[DEVICE_FEATURE_CATEGORIES.LIGHT][DEVICE_FEATURE_TYPES.LIGHT.BINARY],
    FEATURES[DEVICE_FEATURE_CATEGORIES.LIGHT][DEVICE_FEATURE_TYPES.LIGHT.BRIGHTNESS],
    FEATURES[DEVICE_FEATURE_CATEGORIES.LIGHT][DEVICE_FEATURE_TYPES.LIGHT.TEMPERATURE],
  ],
  [DEVICE_GROUPS.LIGHT_COLOR]: [
    FEATURES[DEVICE_FEATURE_CATEGORIES.LIGHT][DEVICE_FEATURE_TYPES.LIGHT.BINARY],
    FEATURES[DEVICE_FEATURE_CATEGORIES.LIGHT][DEVICE_FEATURE_TYPES.LIGHT.BRIGHTNESS],
    FEATURES[DEVICE_FEATURE_CATEGORIES.LIGHT][DEVICE_FEATURE_TYPES.LIGHT.TEMPERATURE],
    FEATURES[DEVICE_FEATURE_CATEGORIES.LIGHT][DEVICE_FEATURE_TYPES.LIGHT.COLOR],
  ],
};

const DEVICE_MODEL_GROUPS = {
  [DEVICE_GROUPS.LIGHT_WHITE]: ['SML_w7', 'SML-w7'],
  [DEVICE_GROUPS.LIGHT_COLOR]: ['SML_c9', 'SML-c9'],
};

const DEVICE_MODEL_KEYS = Object.values(DEVICE_MODEL_GROUPS).flat();

module.exports = {
  PACKET,
  BLUETOOTH,
  DEVICE_MODEL_KEYS,
  DEVICE_MODEL_GROUPS,
  DEVICE_MODEL_FEATURES,
};
