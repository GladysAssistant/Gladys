/*!
 * ==========================================================
 *  COLOR PICKER PLUGIN 1.3.6
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
!function(e,t,n){function a(e){return"undefined"!=typeof e}function l(e){return"string"==typeof e}function h(e){return"object"==typeof e}function p(e){return Object.keys(e).length}function v(e,t,n){return t>e?t:e>n?n:e}function d(e,t){return parseInt(e,t||10)}function g(e){return Math.round(e)}function y(e){var i,f,o,u,s,c,a,l,t=+e[0],n=+e[1],r=+e[2];switch(u=Math.floor(6*t),s=6*t-u,c=r*(1-n),a=r*(1-s*n),l=r*(1-(1-s)*n),u=u||0,a=a||0,l=l||0,u%6){case 0:i=r,f=l,o=c;break;case 1:i=a,f=r,o=c;break;case 2:i=c,f=r,o=l;break;case 3:i=c,f=a,o=r;break;case 4:i=l,f=c,o=r;break;case 5:i=r,f=c,o=a}return[g(255*i),g(255*f),g(255*o)]}function x(e){return H(y(e))}function b(e){var u,t=+e[0],n=+e[1],r=+e[2],i=Math.max(t,n,r),f=Math.min(t,n,r),o=i-f,s=0===i?0:o/i,c=i/255;switch(i){case f:u=0;break;case t:u=n-r+o*(r>n?6:0),u/=6*o;break;case n:u=r-t+2*o,u/=6*o;break;case r:u=t-n+4*o,u/=6*o}return[u,s,c]}function H(e){var t=+e[2]|+e[1]<<8|+e[0]<<16;return t="000000"+t.toString(16),t.slice(-6)}function k(e){return b(m(e))}function m(e){return 3===e.length&&(e=e.replace(/./g,"$&$&")),[d(e[0]+e[1],16),d(e[2]+e[3],16),d(e[4]+e[5],16)]}function w(e){return[+e[0]/360,+e[1]/100,+e[2]/100]}function E(e){return[g(360*+e[0]),g(100*+e[1]),g(100*+e[2])]}function X(e){return[+e[0]/255,+e[1]/255,+e[2]/255]}function _(e){if(h(e))return e;var t=/\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i.exec(e),n=/\s*hsv\s*\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)\s*$/i.exec(e),r="#"===e[0]&&e.match(/^#([\da-f]{3}|[\da-f]{6})$/i);return r?k(e.slice(1)):n?w([+n[1],+n[2],+n[3]]):t?b([+t[1],+t[2],+t[3]]):[0,1,1]}var r="__instance__",i="firstChild",f="scrollLeft",o="scrollTop",u="offsetLeft",s="offsetTop",c=setTimeout;!function(e){e.version="1.3.6",e[r]={},e.each=function(t,n){return c(function(){var i,n=e[r];for(i in n)t(n[i],i,n)},0===n?0:n||1),e},e.parse=_,e._HSV2RGB=y,e._HSV2HEX=x,e._RGB2HSV=b,e._HEX2HSV=k,e._HEX2RGB=function(e){return X(m(e))},e.HSV2RGB=function(e){return y(w(e))},e.HSV2HEX=function(e){return x(w(e))},e.RGB2HSV=function(e){return E(b(e))},e.RGB2HEX=H,e.HEX2HSV=function(e){return E(k(e))},e.HEX2RGB=m}(e[n]=function(d,g){function V(e,t,n){e=e.split(/\s+/);for(var r=0,i=e.length;i>r;++r)t.addEventListener(e[r],n,!1)}function G(e,t,n){e=e.split(/\s+/);for(var r=0,i=e.length;i>r;++r)t.removeEventListener(e[r],n)}function C(e,t){var n=t.touches?t.touches[0].pageX:t.pageX,r=t.touches?t.touches[0].pageY:t.pageY,i=L(e);return{x:n-i.l,y:r-i.t}}function L(t,n){var r,i,c;if(t===e)r=e.pageXOffset||H[f],i=e.pageYOffset||H[o];else if(n)c=t.getBoundingClientRect(),r=c.x,i=c.y;else for(r=t[u],i=t[s];t=t.offsetParent;)r+=t[u],i+=t[s];return{l:r,t:i}}function M(e,t){for(;(e=e.parentElement)&&e!==t;);return e}function $(e){e&&e.preventDefault()}function T(t){return t===e?{w:e.innerWidth,h:e.innerHeight}:{w:t.offsetWidth,h:t.offsetHeight}}function j(e){return w||(a(e)?e:!1)}function O(e){w=e}function Y(e,t,n){return a(e)?a(t)?(a(E[e])||(E[e]={}),a(n)||(n=p(E[e])),E[e][n]=t,k):E[e]:E}function N(e,t){return a(e)?a(t)?(delete E[e][t],k):(E[e]={},k):(E={},k)}function P(e,t,n){if(!a(E[e]))return k;if(a(n))a(E[e][n])&&E[e][n].apply(k,t);else for(var r in E[e])E[e][r].apply(k,t);return k}function ie(e,t){e&&"h"!==e||P("change:h",t),e&&"sv"!==e||P("change:sv",t),P("change",t)}function fe(){return X.parentNode}function oe(n,r){function h(e){var t=e.target,n=t===d||M(t,d)===d;n?oe():k.exit(),P(n?"enter":"exit",[k])}function p(e){var n=(y(z),y([z[0],1,1]));D.style.backgroundColor="rgb("+n.join(",")+")",O(z),$(e)}function H(e){var t=v(C(A,e).y,0,o);z[0]=(o-t)/o,I.style.top=t-c/2+"px",p(e)}function m(e){var t=C(D,e),n=v(t.x,0,u),r=v(t.y,0,s);z[1]=1-(u-n)/u,z[2]=(s-r)/s,q.style.right=u-n-a/2+"px",q.style.top=r-l/2+"px",p(e)}function w(e){K&&(H(e),ne=x(z),F||(P("drag:h",[ne,k]),P("drag",[ne,k]),ie("h",[ne,k]))),Q&&(m(e),ne=x(z),J||(P("drag:sv",[ne,k]),P("drag",[ne,k]),ie("sv",[ne,k]))),F=0,J=0}function E(e){var t=e.target,n=K?"h":"sv",r=[x(z),k],i=t===d||M(t,d)===d,f=t===X||M(t,X)===X;i||f?f&&(P("stop:"+n,r),P("stop",r),ie(n,r)):fe()&&g!==!1&&(k.exit(),P("exit",[k]),ie(0,r)),K=0,Q=0}function L(e){F=1,K=1,w(e),$(e),P("start:h",[ne,k]),P("start",[ne,k]),ie("h",[ne,k])}function Y(e){J=1,Q=1,w(e),$(e),P("start:sv",[ne,k]),P("start",[ne,k]),ie("sv",[ne,k])}n||((r||b).appendChild(X),k.visible=!0),ee=T(X).w,te=T(X).h;var i=T(D),f=T(q),o=T(A).h,u=i.w,s=i.h,c=T(I).h,a=f.w,l=f.h;n?(X.style.left=X.style.top="-9999px",g!==!1&&V(g,d,h),k.create=function(){return oe(1),P("create",[k]),k},k.destroy=function(){return g!==!1&&G(g,d,h),k.exit(),O(!1),P("destroy",[k]),k}):ue(),re=function(){z=j(z),p(),I.style.top=o-c/2-o*+z[0]+"px",q.style.right=u-a/2-u*+z[1]+"px",q.style.top=s-l/2-s*+z[2]+"px"},k.exit=function(n){return fe()&&(fe().removeChild(X),k.visible=!1),G(_,A,L),G(_,D,Y),G(S,t,w),G(B,t,E),G(R,e,ue),k},re(),n||(V(_,A,L),V(_,D,Y),V(S,t,w),V(B,t,E),V(R,e,ue))}function ue(){return k.fit()}var b=t.body,H=t.documentElement,k=this,m=e[n],w=!1,E={},X=t.createElement("div"),_="touchstart mousedown",S="touchmove mousemove",B="touchend mouseup",R="orientationchange resize";if(!(k instanceof m))return new m(d,g);m[r][d.id||d.name||p(m[r])]=k,a(g)||(g=_),O(m.parse(d.getAttribute("data-color")||d.value||[0,1,1])),X.className="color-picker",X.innerHTML='<div class="color-picker-control"><span class="color-picker-h"><i></i></span><span class="color-picker-sv"><i></i></span></div>';var re,W=X[i].children,z=j([0,1,1]),A=W[0],D=W[1],I=A[i],q=D[i],F=0,J=0,K=0,Q=0,U=0,Z=0,ee=0,te=0,ne=x(z);return oe(1),c(function(){var e=[x(z),k];P("create",e),ie(0,e)},0),k.fit=function(t){var n=T(e),r=T(H),i=n.w-r.w,f=n.h-H.clientHeight,o=L(e),u=L(d,1);if(U=u.l+o.l,Z=u.t+o.t+T(d).h,h(t))a(t[0])&&(U=t[0]),a(t[1])&&(Z=t[1]);else{var s=o.l,c=o.t,l=o.l+n.w-ee-i,p=o.t+n.h-te-f;U=v(U,s,l)>>0,Z=v(Z,c,p)>>0}return X.style.left=U+"px",X.style.top=Z+"px",P("fit",[k]),k},k.set=function(e){return a(e)?(l(e)&&(e=m.parse(e)),O(e),re(),k):j()},k.get=function(e){return j(e)},k.target=d,k.picker=X,k.visible=!1,k.on=Y,k.off=N,k.trigger=P,k.hooks=E,k.enter=function(e){return oe(0,e)},k})}(window,document,"CP");